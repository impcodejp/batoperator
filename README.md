# batoperator

`batoperator` は、指定したフォルダ内にある複数のバッチファイル（.bat）に対して、特定の行を検索し、一括で置換・更新するためのツールです。 設定値の書き換えなどを自動化することを目的としています。

## 特徴

- **一括置換**: 指定ディレクトリ内のすべての `.bat` ファイルをスキャンし、条件に一致する行を新しい内容に置き換えます。
- **前方一致検索**: 行の先頭が指定した文字列で始まるかどうかを判定基準にします（大文字小文字を区別しません）。
- **ロギング機能**: 処理の開始、更新したファイル、エラー内容などをログファイル（`logs/run.log`）およびコンソールに出力します。
- **GUIフォルダ選択**: 処理対象のフォルダをグラフィカルなダイアログ（Tkinter）で選択できます。

## システム要件

- Python 3.x
- Tkinter (標準ライブラリ。フォルダ選択ダイアログに使用)

## インストールと準備

1. リポジトリをクローンまたはダウンロードします。
2. 依存ライブラリのインストールは不要です（標準ライブラリのみを使用しています）。

## 使い方

### 1. 置換ルールの設定

`main.py` の `main_process` メソッド内にある以下のリストを編集して、置換したい文字列を指定します。

```python
target_str_list = ["SET DB_HOST="]       # 検索する行の開始文字列
new_line_content_list = ["SET DB_HOST=192.168.1.1"]  # 置換後の行の内容
```

※ target_str_list と new_line_content_list の要素数は一致させる必要があります。

### 2. 実行
以下のコマンドを実行します。

```Bash
python -m main
```
1. 実行するとフォルダ選択ダイアログが表示されます。
2. 対象のバッチファイルが含まれるフォルダを選択してください。
3. プログラムが自動的にファイルをスキャンし、置換処理を行います。

## 技術仕様
- 文字コード: バッチファイルの読み込みと保存は cp932 (Shift_JIS) で行われます。
- ログ: 実行ディレクトリ内の logs/ フォルダにログが保存されます。最大1MBでローテーションされ、5世代まで保持します。

## ライセンス
このプロジェクトは MIT ライセンスの下で公開されています。詳細は LICENSE ファイルを参照してください。